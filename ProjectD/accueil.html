<div id="Doom">
	<input type="file" name="ressources" id="inputRessources" />

	<input id="clickMe" type="button" value="clickme" onclick="doFunction();" />

	<script>
		$("#inputRessources").change(function(){
			console.log($("#inputRessources")[0].files[0]);
		});

		function doFunction(){
			lireZip();
			$( "#Doom" ).load( "game.html" );
		}
		
		/* lecture de l'archive .zip fournie par l'utilisateur */
				
		zip.workerScriptsPath = "lib/";
		
		function lireZip()
		{
			let blob = $("#inputRessources")[0].files[0];
			let fichierValide = false;
						
			if ( blob.name.endsWith(".zip") )
			{		
				zip.createReader(new zip.BlobReader(blob),function(reader)
				{
					reader.getEntries(function(entries)
					{
						if (entries.length)
						{
							entries.forEach(function(entry)
							{
								console.log(entry.filename);
								
								if ( entry.filename.endsWith("beatmap.json") )
									fichierValide = true;
							});
						}

						reader.close(function()
						{
							console.log(fichierValide);
						});
					});
				},
				function(error){});
			}
			
			return fichierValide;
		};
		
		/*//- Using a function pointer:
		document.getElementById("clickMe").onclick = doFunction;

		//- Using an anonymous function:
		document.getElementById("clickMe").onclick = function () { $( "#Doom" ).load( "game.html" ); };*/
	</script>
</div>
